(s=>{let i,o=s("#venus_slider_gallery_btn"),e=o.data("ids"),a=l(e);function l(t){if(t){t=new wp.shortcode({tag:"gallery",attrs:{ids:t},type:"single"}),t=wp.media.gallery.attachments(t);let e=new wp.media.model.Selection(t.models,{props:t.props.toJSON(),multiple:!0});return e.gallery=t.gallery,e.more().done(function(){e.props.set({query:!1}),e.unmirror(),e.props.unset("orderby")}),e}return!1}o.on("click",function(e){e.preventDefault();e={title:o.data("create"),state:"gallery-edit",frame:"post",selection:a};function t(){i.toolbar.get("view").set({insert:{style:"primary",text:o.data("save"),click:function(){let e=i.state().get("library"),t="";e.each(function(e){t+=e.id+","}),this.el.innerHTML=o.data("progress"),s.ajax({type:"POST",url:ajaxurl,data:{ids:t,action:"venus_slider_save_images",post_id:o.data("id")},success:function(){a=l(t),s("#_venus_slider_images_ids").val(t),i.close()},dataType:"html"}).done(function(e){s(".venus_slider_gallery_list").html(e)})}}})}(i||a)&&(e.title=o.data("edit")),(i=wp.media(e).open()).menu.get("view").unset("cancel"),i.menu.get("view").unset("separateCancel"),i.menu.get("view").get("gallery-edit").el.innerHTML=o.data("edit"),i.content.get("view").sidebar.unset("gallery"),t(),i.on("toolbar:render:gallery-edit",function(){t()}),i.on("content:render:browse",function(e){e&&(e.sidebar.on("ready",function(){e.sidebar.unset("gallery")}),e.toolbar.on("ready",function(){"gallery-library"===e.toolbar.controller._state&&e.toolbar.$el.hide()}))}),i.state().get("library").on("remove",function(){0===i.state().get("library").length&&(a=!1,s.post(ajaxurl,{ids:"",action:"venus_slider_save_images",post_id:o.data("id")}))})})})(jQuery),(t=>{let e=t("body"),s=t("#VenusSliderModal"),i=t("#_images_urls_btn"),o=t("#venusSliderGalleryUrlTemplate").html();i.on("click",function(e){e.preventDefault(),s.css("display","block"),t("body").addClass("overflowHidden")}),s.on("click",".venus_slider-close",function(e){e.preventDefault(),s.css("display","none"),t("body").removeClass("overflowHidden")});var a=t(window).height()-148;t(".venus_slider-modal-body").css("height",a+"px"),e.on("click",".add_row",function(){t(this).closest(".venus_slider-fields").after(o)}),e.on("click",".delete_row",function(){t(this).closest(".venus_slider-fields").remove()}),t("#venus_slider_form").sortable()})(jQuery),(e=>{let t=e("#_venus_slider_slide_type"),s=e("#section_images_settings"),i=e("#section_url_images_settings"),o=e("#section_images_general_settings"),a=e("#section_post_query"),l=e("#section_video_settings"),n=e("#section_product_query"),r=e("#_post_query_type"),d=e("#field-_post_date_after"),c=e("#field-_post_date_before"),u=e("#field-_post_categories"),_=e("#field-_post_tags"),p=e("#field-_post_in"),h=e("#field-_posts_per_page"),f=e("#_product_query_type"),g=e("#field-_product_query"),v=e("#field-_product_categories"),y=e("#field-_product_tags"),w=e("#field-_product_in"),m=e("#field-_products_per_page");t.on("change",function(){s.hide("fast"),i.hide("fast"),o.hide("fast"),a.hide("fast"),l.hide("fast"),n.hide("fast"),"image-carousel"===this.value&&(s.slideDown(),o.slideDown()),"image-carousel-url"===this.value&&(i.slideDown(),o.slideDown()),"post-carousel"===this.value&&a.slideDown(),"video-carousel"===this.value&&l.slideDown(),"product-carousel"===this.value&&n.slideDown()}),"post-carousel"===t.val()&&("date_range"===(e=r.val())&&(d.show(),c.show()),"post_categories"===e&&u.show(),"post_tags"===e&&_.show(),"specific_posts"===e)&&(p.show(),h.hide()),r.on("change",function(){d.hide("fast"),c.hide("fast"),u.hide("fast"),_.hide("fast"),p.hide("fast"),h.show("fast"),"date_range"===this.value&&(d.slideDown(),c.slideDown()),"post_categories"===this.value&&u.slideDown(),"post_tags"===this.value&&_.slideDown(),"specific_posts"===this.value&&(p.slideDown(),h.hide("fast"))}),"product-carousel"===t.val()&&("query_porduct"===(e=f.val())&&g.show(),"product_categories"===e&&v.show(),"product_tags"===e&&y.show(),"specific_products"===e)&&w.show(),f.on("change",function(){g.hide("fast"),v.hide("fast"),y.hide("fast"),w.hide("fast"),m.show("fast"),"query_porduct"===this.value&&g.slideDown(),"product_categories"===this.value&&v.slideDown(),"product_tags"===this.value&&y.slideDown(),"specific_products"===this.value&&(w.slideDown(),m.hide("fast"))})})(jQuery),(t=>{t("select.select2").each(function(){t(this).select2()}),t(".shapla-toggle").each(function(){"closed"===t(this).attr("data-id")?t(this).accordion({header:".shapla-toggle-title",collapsible:!0,heightStyle:"content",active:!1}):t(this).accordion({header:".shapla-toggle-title",collapsible:!0,heightStyle:"content"})}),t(".datepicker").each(function(){t(this).datepicker({dateFormat:"MM dd, yy",changeMonth:!0,changeYear:!0,onClose:function(e){t(this).datepicker("option","minDate",e)}})}),t(".colorpicker").each(function(){t(this).wpColorPicker()})})(jQuery);